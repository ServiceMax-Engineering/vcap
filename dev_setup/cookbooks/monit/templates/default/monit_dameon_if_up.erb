#! /bin/sh
# Starts the monit daemon if the network comes on and is not the local loop.

set -e

# Don't bother to restart nats-server when lo is configured.
if [ "$IFACE" = lo ]; then
        exit 0
fi

# Only run from ifup.
#if [ "$MODE" != start ]; then
#        exit 0
#fi

# nats_server only cares about inet and inet6. Get ye gone, strange people
# still using ipx.
#if [ "$ADDRFAM" != inet ] && [ "$ADDRFAM" != inet6 ]; then
#        exit 0
#fi

# nevermind if it was started already
/etc/init.d/monit start || true

exit 0


